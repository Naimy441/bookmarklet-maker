javascript:(function(){if(window.pacmanGame)return window.pacmanGame.remove(),window.pacmanGame=null,document.removeEventListener("mousemove",window.pacmanMove),cancelAnimationFrame(window.pacmanFrame),window.pacmanUI&&window.pacmanUI.forEach(e=>e.remove()),window.pacmanDots&&window.pacmanDots.forEach(e=>e.remove()),void(window.pacmanGhosts&&window.pacmanGhosts.forEach(e=>e.remove()));var e=document.createElement("img");e.src="https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/pacman.gif",e.style.cssText="position:fixed;width:40px;height:40px;pointer-events:none;z-index:999999;transition:none;transform-origin:50% 50%;";var t,a,n,o=60,r=5,i=5,s=300,d=300,h=300,c=300,p=0,m=[],l=[],f=!1,u=0;function x(e,t,a,n,r){var i=document.createElement("div");i.style.cssText="position:fixed;width:40px;height:40px;pointer-events:none;z-index:999998;transition:none;display:flex;align-items:center;justify-content:center;",i.gridX=t,i.gridY=a,i.x=t*o+30,i.y=a*o+30,i.targetX=t,i.targetY=a,i.behavior=n,i.moveTimer=0,i.style.left=i.x-20+"px",i.style.top=i.y-20+"px";var s=document.createElement("img");return s.src=e,s.style.cssText="width:100%;height:100%;",s.onload=function(){i.innerHTML="",i.appendChild(s)},s.onerror=function(){i.innerHTML="red"===r?"🔴":"pink"===r?"🩷":"🔵",i.style.fontSize="30px"},i.innerHTML="red"===r?"🔴":"pink"===r?"🩷":"🔵",i.style.fontSize="30px",document.body.appendChild(i),l.push(i),window.pacmanGhosts.push(i),setTimeout(function(){i.appendChild(s)},100),i}function g(){for(var e=Math.floor(window.innerHeight/o),t=Math.floor(window.innerWidth/o),a=[],n=Math.ceil(80/o);n<e;n++)for(var r=0;r<t;r++)(Math.abs(r-5)>2||Math.abs(n-5)>2)&&a.push({x:r,y:n});for(n=a.length-1;n>0;n--){r=Math.floor(Math.random()*(n+1));var i=a[n];a[n]=a[r],a[r]=i}var s=Math.min(100,a.length);for(n=0;n<s;n++){var d=a[n],h=document.createElement("div");h.style.cssText="position:fixed;width:10px;height:10px;background:#ffff00;border-radius:50%;pointer-events:none;z-index:999997;box-shadow:0 0 10px #ffff00;",h.style.left=d.x*o+30-5+"px",h.style.top=d.y*o+30-5+"px",h.gridX=d.x,h.gridY=d.y,m.push(h),window.pacmanDots.push(h),document.body.appendChild(h)}}function w(){if(!f){var a=(function(){var e=Math.round((h-30)/o),t=Math.round((c-30)/o),a=Math.floor(window.innerWidth/o),n=Math.floor(window.innerHeight/o);e=Math.max(0,Math.min(e,a-1)),t=Math.max(0,Math.min(t,n-1));var s=e-r,d=t-i,p=r,m=i,l=[];if(0!==s){var f={x:r+(s>0?1:-1),y:i};if(f.x>=0&&f.x<a){var u=Math.pow(f.x-e,2)+Math.pow(f.y-t,2);l.push({move:f,dist:u})}}if(0!==d){var x={x:r,y:i+(d>0?1:-1)};if(x.y>=0&&x.y<n){var g=Math.pow(x.x-e,2)+Math.pow(x.y-t,2);l.push({move:x,dist:g})}}if(l.length>0){var w=l.reduce((e,t)=>e.dist<t.dist?e:t);p=w.move.x,m=w.move.y}return{x:p,y:m}})(),n=a.x*o+30,x=a.y*o+30,g=n-s,v=x-d;if(Math.sqrt(g*g+v*v)>5){if(s+=.12*g,d+=.12*v,Math.abs(g)>3||Math.abs(v)>3){var y=180*Math.atan2(v,g)/Math.PI-u;y>180&&(y-=360),y<-180&&(y+=360),u+=.2*y,e.style.transform="rotate("+u+"deg)"}}else r=a.x,i=a.y,s=n,d=x;e.style.left=s-20+"px",e.style.top=d-20+"px",f||(m.forEach(function(e,a){if(e.parentNode){var n=e.gridX*o+30,r=e.gridY*o+30,i=n-s,h=r-d;Math.sqrt(i*i+h*h)<25&&(e.remove(),m.splice(a,1),p++,t.textContent="Score: "+p+"/100",0===m.length&&(f=!0,setTimeout(function(){alert("🏆 You won! Final Score: "+p+"/100 🏆")},100)))}}),l.forEach(function(e){var t=e.x-s,a=e.y-d;Math.sqrt(t*t+a*a)<30&&(f||(f=!0,setTimeout(function(){alert("👻 Game Over! Final Score: "+p+"/100 👻")},100)))})),l.forEach(function(e){e.moveTimer++;var t="chase"===e.behavior?25:"vertical"===e.behavior?20:35;if(e.moveTimer>=t){e.moveTimer=0;var a=Math.floor(window.innerWidth/o),n=Math.floor(window.innerHeight/o),p=[];if(e.gridX>0&&p.push({x:e.gridX-1,y:e.gridY,dir:"left"}),e.gridX<a-1&&p.push({x:e.gridX+1,y:e.gridY,dir:"right"}),e.gridY>0&&p.push({x:e.gridX,y:e.gridY-1,dir:"up"}),e.gridY<n-1&&p.push({x:e.gridX,y:e.gridY+1,dir:"down"}),"chase"===e.behavior){var m=p[0],l=999;p.forEach(function(e){var t=Math.abs(e.x-r)+Math.abs(e.y-i);t<l&&(l=t,m=e)}),m&&(e.targetX=m.x,e.targetY=m.y)}else if("vertical"===e.behavior){var f=p.filter(function(e){return"up"===e.dir||"down"===e.dir}),u=p.filter(function(e){return"left"===e.dir||"right"===e.dir}),x=f.length>0&&Math.random()<.8?f:u;x.length>0&&(m=x[0],l=999,x.forEach(function(e){var t=Math.abs(e.x-r)+Math.abs(e.y-i);t<l&&(l=t,m=e)}),e.targetX=m.x,e.targetY=m.y)}else if("ambush"===e.behavior){var g=r,w=i;Math.abs(h-s)>5&&(g+=h>s?3:-3),Math.abs(c-d)>5&&(w+=c>d?3:-3),g=Math.max(0,Math.min(g,a-1)),w=Math.max(0,Math.min(w,n-1)),m=p[0],l=999,p.forEach(function(e){var t=Math.abs(e.x-g)+Math.abs(e.y-w);t<l&&(l=t,m=e)}),m&&(e.targetX=m.x,e.targetY=m.y)}}var v=e.targetX*o+30,y=e.targetY*o+30,b=v-e.x,M=y-e.y,E=Math.sqrt(b*b+M*M),T="vertical"===e.behavior?.1:"ambush"===e.behavior?.06:.08;E>3?(e.x+=b*T,e.y+=M*T):(e.gridX=e.targetX,e.gridY=e.targetY,e.x=v,e.y=y),e.style.left=e.x-20+"px",e.style.top=e.y-20+"px"}),window.pacmanFrame=requestAnimationFrame(w)}}document.body.appendChild(e),window.pacmanGame=e,window.pacmanUI=[],window.pacmanDots=[],window.pacmanGhosts=[],window.pacmanMove=function(e){h=e.clientX,c=e.clientY};var v=document.createElement("div");v.style.cssText='position:fixed;top:0;left:0;right:0;padding:20px;display:flex;justify-content:space-between;align-items:center;z-index:1000000;background:linear-gradient(180deg,rgba(0,0,0,0.8) 0%,rgba(0,0,0,0) 100%);font-family:"Segoe UI",Arial,sans-serif;',document.body.appendChild(v),window.pacmanUI.push(v);var y=document.createElement("div");y.style.cssText="display:flex;align-items:center;gap:15px;",(t=document.createElement("div")).textContent="Score: 0/100",t.style.cssText="color:#ffff00;font-size:24px;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,0.5);padding:10px 20px;background:rgba(0,0,0,0.6);border-radius:15px;backdrop-filter:blur(5px);border:2px solid rgba(255,255,0,0.3);transition:all 0.3s ease;",y.appendChild(t),v.appendChild(y),(a=document.createElement("div")).innerHTML="🎮 Move mouse to control Pac-Man<br>🟡 Collect dots • 👻 Avoid ghosts",a.style.cssText="color:#fff;font-size:18px;font-weight:500;text-align:center;line-height:1.5;text-shadow:0 2px 4px rgba(0,0,0,0.5);padding:10px 25px;background:rgba(0,0,0,0.6);border-radius:15px;backdrop-filter:blur(5px);animation:fadeOut 6s ease-out forwards;border:2px solid rgba(255,255,255,0.3);",v.appendChild(a);var b=document.createElement("div");b.style.cssText="display:flex;align-items:center;gap:15px;",(n=document.createElement("button")).innerHTML="🔄 New Game",n.style.cssText="color:#fff;font-size:18px;font-weight:600;padding:12px 24px;background:linear-gradient(135deg,#4a90e2,#2ecc71);border:none;border-radius:15px;cursor:pointer;transition:all 0.3s ease;text-shadow:0 1px 2px rgba(0,0,0,0.3);box-shadow:0 4px 15px rgba(0,0,0,0.2);",n.onmouseover=function(){this.style.transform="translateY(-2px)",this.style.boxShadow="0 6px 20px rgba(0,0,0,0.3)"},n.onmouseout=function(){this.style.transform="translateY(0)",this.style.boxShadow="0 4px 15px rgba(0,0,0,0.2)"},n.onclick=function(){p=0,f=!1,r=5,i=5,s=300,d=300,u=0,m.forEach(function(e){e.parentNode&&e.remove()}),l.forEach(function(e){e.parentNode&&e.remove()}),m=[],l=[],window.pacmanDots=[],window.pacmanGhosts=[],e.style.left=s-20+"px",e.style.top=d-20+"px",e.style.transform="rotate(0deg)",t.textContent="Score: 0/100",g();var a=Math.floor(window.innerWidth/o),n=Math.floor(window.innerHeight/o);x("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/redghost.gif",2,2,"chase","red"),x("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/pinkghost.gif",a-3,2,"ambush","pink"),x("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/blueghost.gif",Math.floor(a/2),n-3,"vertical","blue"),cancelAnimationFrame(window.pacmanFrame),w()},b.appendChild(n),v.appendChild(b),document.body.appendChild(a),window.pacmanUI.push(a);var M=document.createElement("style");M.textContent="@keyframes fadeOut{0%,70%{opacity:1;}100%{opacity:0;}}",document.head.appendChild(M),setTimeout(function(){a.parentNode&&a.remove()},6e3),g();var E=Math.floor(window.innerWidth/o),T=Math.floor(window.innerHeight/o);x("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/redghost.gif",2,2,"chase","red"),x("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/pinkghost.gif",E-3,2,"ambush","pink"),x("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/blueghost.gif",Math.floor(E/2),T-3,"vertical","blue"),document.addEventListener("mousemove",window.pacmanMove),w()})();