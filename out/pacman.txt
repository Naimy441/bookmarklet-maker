javascript:(function(){if(window.pacmanGame)return window.pacmanGame.remove(),window.pacmanGame=null,document.removeEventListener("mousemove",window.pacmanMove),cancelAnimationFrame(window.pacmanFrame),window.pacmanUI&&window.pacmanUI.forEach(t=>t.remove()),window.pacmanDots&&window.pacmanDots.forEach(t=>t.remove()),void(window.pacmanGhosts&&window.pacmanGhosts.forEach(t=>t.remove()));var t=document.createElement("img");t.src="https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/pacman.gif",t.style.cssText="position:fixed;width:40px;height:40px;pointer-events:none;z-index:999999;transition:none;transform-origin:50% 50%;";var e,n,a,o=60,i=5,r=5,d=300,s=300,h=300,c=300,f=0,p=[],m=[],l=!1,u=0;function g(t,e,n,a,i){var r=document.createElement("div");r.style.cssText="position:fixed;width:40px;height:40px;pointer-events:none;z-index:999998;transition:none;display:flex;align-items:center;justify-content:center;",r.gridX=e,r.gridY=n,r.x=e*o+30,r.y=n*o+30,r.targetX=e,r.targetY=n,r.behavior=a,r.moveTimer=0,r.style.left=r.x-20+"px",r.style.top=r.y-20+"px";var d=document.createElement("img");return d.src=t,d.style.cssText="width:100%;height:100%;",d.onload=function(){r.innerHTML="",r.appendChild(d)},d.onerror=function(){r.innerHTML="red"===i?"🔴":"pink"===i?"🩷":"🔵",r.style.fontSize="30px"},r.innerHTML="red"===i?"🔴":"pink"===i?"🩷":"🔵",r.style.fontSize="30px",document.body.appendChild(r),m.push(r),window.pacmanGhosts.push(r),setTimeout(function(){r.appendChild(d)},100),r}function x(){for(var t=Math.floor(window.innerHeight/o),e=Math.floor(window.innerWidth/o),n=[],a=0;a<t;a++)for(var i=0;i<e;i++)(Math.abs(i-5)>2||Math.abs(a-5)>2)&&n.push({x:i,y:a});for(a=n.length-1;a>0;a--){i=Math.floor(Math.random()*(a+1));var r=n[a];n[a]=n[i],n[i]=r}var d=Math.min(100,n.length);for(a=0;a<d;a++){var s=n[a],h=document.createElement("div");h.style.cssText="position:fixed;width:10px;height:10px;background:#ffff00;border-radius:50%;pointer-events:none;z-index:999997;box-shadow:0 0 10px #ffff00;",h.style.left=s.x*o+30-5+"px",h.style.top=s.y*o+30-5+"px",h.gridX=s.x,h.gridY=s.y,p.push(h),window.pacmanDots.push(h),document.body.appendChild(h)}}function w(){if(!l){var n=(function(){var t=Math.round((h-30)/o),e=Math.round((c-30)/o),n=Math.floor(window.innerWidth/o),a=Math.floor(window.innerHeight/o);t=Math.max(0,Math.min(t,n-1)),e=Math.max(0,Math.min(e,a-1));var d=t-i,s=e-r,f=i,p=r;return Math.abs(d)>Math.abs(s)?f=i+(d>0?1:-1):Math.abs(s)>0&&(p=r+(s>0?1:-1)),{x:f=Math.max(0,Math.min(f,n-1)),y:p=Math.max(0,Math.min(p,a-1))}})(),a=n.x*o+30,g=n.y*o+30,x=a-d,v=g-s;if(Math.sqrt(x*x+v*v)>5){if(d+=.12*x,s+=.12*v,Math.abs(x)>3||Math.abs(v)>3){var b=180*Math.atan2(v,x)/Math.PI-u;b>180&&(b-=360),b<-180&&(b+=360),u+=.2*b,t.style.transform="rotate("+u+"deg)"}}else i=n.x,r=n.y,d=a,s=g;t.style.left=d-20+"px",t.style.top=s-20+"px",l||(p.forEach(function(t,n){t.parentNode&&t.gridX===i&&t.gridY===r&&(t.remove(),p.splice(n,1),f++,e.textContent="Score: "+f+"/100",0===p.length&&(l=!0,setTimeout(function(){alert("🏆 You won! Final Score: "+f+"/100 🏆")},100)))}),m.forEach(function(t){Math.abs(t.gridX-i)<=0&&Math.abs(t.gridY-r)<=0&&(l||(l=!0,setTimeout(function(){alert("👻 Game Over! Final Score: "+f+"/100 👻")},100)))})),m.forEach(function(t){t.moveTimer++;var e="chase"===t.behavior?25:"vertical"===t.behavior?20:35;if(t.moveTimer>=e){t.moveTimer=0;var n=Math.floor(window.innerWidth/o),a=Math.floor(window.innerHeight/o),f=[];if(t.gridX>0&&f.push({x:t.gridX-1,y:t.gridY,dir:"left"}),t.gridX<n-1&&f.push({x:t.gridX+1,y:t.gridY,dir:"right"}),t.gridY>0&&f.push({x:t.gridX,y:t.gridY-1,dir:"up"}),t.gridY<a-1&&f.push({x:t.gridX,y:t.gridY+1,dir:"down"}),"chase"===t.behavior){var p=f[0],m=999;f.forEach(function(t){var e=Math.abs(t.x-i)+Math.abs(t.y-r);e<m&&(m=e,p=t)}),p&&(t.targetX=p.x,t.targetY=p.y)}else if("vertical"===t.behavior){var l=f.filter(function(t){return"up"===t.dir||"down"===t.dir}),u=f.filter(function(t){return"left"===t.dir||"right"===t.dir}),g=l.length>0&&Math.random()<.8?l:u;g.length>0&&(p=g[0],m=999,g.forEach(function(t){var e=Math.abs(t.x-i)+Math.abs(t.y-r);e<m&&(m=e,p=t)}),t.targetX=p.x,t.targetY=p.y)}else if("ambush"===t.behavior){var x=i,w=r;Math.abs(h-d)>5&&(x+=h>d?3:-3),Math.abs(c-s)>5&&(w+=c>s?3:-3),x=Math.max(0,Math.min(x,n-1)),w=Math.max(0,Math.min(w,a-1)),p=f[0],m=999,f.forEach(function(t){var e=Math.abs(t.x-x)+Math.abs(t.y-w);e<m&&(m=e,p=t)}),p&&(t.targetX=p.x,t.targetY=p.y)}}var v=t.targetX*o+30,b=t.targetY*o+30,y=v-t.x,M=b-t.y,E=Math.sqrt(y*y+M*M),T="vertical"===t.behavior?.1:"ambush"===t.behavior?.06:.08;E>3?(t.x+=y*T,t.y+=M*T):(t.gridX=t.targetX,t.gridY=t.targetY,t.x=v,t.y=b),t.style.left=t.x-20+"px",t.style.top=t.y-20+"px"}),window.pacmanFrame=requestAnimationFrame(w)}}document.body.appendChild(t),window.pacmanGame=t,window.pacmanUI=[],window.pacmanDots=[],window.pacmanGhosts=[],window.pacmanMove=function(t){h=t.clientX,c=t.clientY},(e=document.createElement("div")).textContent="Score: 0/100",e.style.cssText="position:fixed;top:20px;right:20px;background:rgba(0,0,0,0.9);color:#ffff00;padding:12px 18px;border-radius:12px;font-family:Arial,sans-serif;font-weight:bold;font-size:20px;z-index:1000000;border:2px solid #ffff00;",document.body.appendChild(e),window.pacmanUI.push(e),(a=document.createElement("button")).textContent="🔄 Restart",a.style.cssText="position:fixed;top:20px;right:180px;background:linear-gradient(45deg,#ff6b35,#f7931e);color:white;padding:12px 18px;border:none;border-radius:12px;font-family:Arial,sans-serif;font-weight:bold;font-size:16px;z-index:1000000;cursor:pointer;border:2px solid #fff;",a.onclick=function(){f=0,l=!1,i=5,r=5,d=300,s=300,u=0,p.forEach(function(t){t.parentNode&&t.remove()}),m.forEach(function(t){t.parentNode&&t.remove()}),p=[],m=[],window.pacmanDots=[],window.pacmanGhosts=[],t.style.left=d-20+"px",t.style.top=s-20+"px",t.style.transform="rotate(0deg)",e.textContent="Score: 0/100",x();var n=Math.floor(window.innerWidth/o),a=Math.floor(window.innerHeight/o);g("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/redghost.gif",2,2,"chase","red"),g("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/pinkghost.gif",n-3,2,"ambush","pink"),g("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/blueghost.gif",Math.floor(n/2),a-3,"vertical","blue"),cancelAnimationFrame(window.pacmanFrame),w()},document.body.appendChild(a),window.pacmanUI.push(a),(n=document.createElement("div")).innerHTML="🟡 Collect all 100 dots! Avoid the ghosts! 👻<br>Move your mouse to control Pac-Man",n.style.cssText="position:fixed;top:20px;left:50%;transform:translateX(-50%);background:linear-gradient(45deg,#800080,#ff1493);color:#ffff00;padding:12px 24px;border-radius:15px;font-family:Arial,sans-serif;font-weight:bold;z-index:1000000;animation:fadeOut 6s ease-out forwards;border:2px solid #ffff00;text-align:center;",document.body.appendChild(n),window.pacmanUI.push(n);var v=document.createElement("style");v.textContent="@keyframes fadeOut{0%,70%{opacity:1;}100%{opacity:0;}}",document.head.appendChild(v),setTimeout(function(){n.parentNode&&n.remove()},6e3),x();var b=Math.floor(window.innerWidth/o),y=Math.floor(window.innerHeight/o);g("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/redghost.gif",2,2,"chase","red"),g("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/pinkghost.gif",b-3,2,"ambush","pink"),g("https://raw.githubusercontent.com/Naimy441/other_projects/refs/heads/main/blueghost.gif",Math.floor(b/2),y-3,"vertical","blue"),document.addEventListener("mousemove",window.pacmanMove),w()})();